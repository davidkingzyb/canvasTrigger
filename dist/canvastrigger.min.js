!function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=3)}([function(t,i,n){"use strict";var e,r=this&&this.__extends||(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});i.__esModule=!0;var o=function(){function t(t){this.objs=[],this.triggers=[],this.canvas=document.getElementById(t),this.context=this.canvas.getContext("2d")}return t.prototype.reset=function(){this.objs=[];for(var t=0;t<this.triggers.length;t++)this.resetTrigger(this.triggers[t]);this.triggers=[],this.drawCanvas()},t.prototype.addObj=function(t){this.objs.push(t),t.ctcanvas=this,t.context=this.context,t.draw()},t.prototype.addObjs=function(t){for(var i=0;i<t.length;i++)this.addObj(t[i])},t.prototype.removeObj=function(t){var i=this.objs.indexOf(t);i>=0&&this.objs.splice(i,1),this.offObj(t),this.drawCanvas()},t.prototype.removeObjs=function(t){for(var i=0;i<t.length;i++)this.removeObj(t[i])},t.prototype.offObj=function(t){for(var i=0;i<this.triggers.length;i++)this.removeObserver(this.triggers[i],t)},t.prototype.drawCanvas=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(var t=0;t<this.objs.length;t++)this.objs[t].draw()},t.prototype.addTrigger=function(t){if(-1===this.triggers.indexOf(t)){this.triggers.push(t),this[t+"Observers"]=[],this[t+"Functions"]=[];var i=this;this.canvas["on"+t]=function(n){i.Notify(n,t)}}},t.prototype.resetTrigger=function(t){this[t+"Observers"]=[],this[t+"Functions"]=[];var i=this;this.canvas["on"+t]=function(n){i.Notify(n,t)}},t.prototype.Notify=function(t,i){for(var n=t.layerX,e=t.layerY,r=0;r<this[i+"Observers"].length;r++){var o=this[i+"Observers"][r];n>o.x&&n<o.x+o.w&&e>o.y&&e<o.y+o.h&&this[i+"Functions"][r].call(o,t)}},t.prototype.registerObserver=function(t,i,n){this[t+"Observers"].push(n),this[t+"Functions"].push(i)},t.prototype.removeObserver=function(t,i){var n=this[t+"Observers"].indexOf(i);n>=0&&(this[t+"Observers"].splice(n,1),this[t+"Functions"].splice(n,1))},t}();i.ctCanvas=o;var s=function(){function t(t,i,n,e,r){this.x=t||0,this.y=i||0,this.w=n||100,this.h=e||100,this.alpha=r||1}return t.prototype.superdraw=function(){this.context.globalAlpha=this.alpha},t.prototype.on=function(t,i){this.ctcanvas.registerObserver(t,i,this)},t.prototype.off=function(t){this.ctcanvas.removeObserver(t,this)},t}();function a(t,i){i.addTrigger("mousemove"),i.addTrigger("mousedown"),i.addTrigger("mouseup");var n=new u("["+t.x+","+t.y+"]","3px Arial","#f00",t.x,t.y);i.addObj(n);var e,r,o,s,a=new h("#f00",1,t.x,t.y,t.w,t.h);i.addObj(a);var c=!1;t.on("mousedown",function(i){o=t.x,s=t.y,e=i.layerX,r=i.layerY,c=!0,console.log("x","y","width","height")}),t.on("mousemove",function(h){c&&(t.x=Math.ceil(o+(h.layerX-e)),t.y=Math.ceil(s+(h.layerY-r)),n.text="["+parseInt(t.x)+","+parseInt(t.y)+"]",n.x=t.x,n.y=t.y,a.x=t.x,a.y=t.y,i.drawCanvas())}),t.on("mouseup",function(i){c=!1,console.log(t.x,t.y,t.w,t.h)})}i.ctObj=s,i.cT_showPosition=a,i.cT_showPositions=function(t,i){for(var n=0;n<t.length;n++)a(t[n],i)};var c=function(t){function i(i,n,e,r,o,s){var a=t.call(this,n,e,r,o,s)||this;return a.fillStyle=i||"#000",a}return r(i,t),i.prototype.draw=function(){this.superdraw(),this.context.fillStyle=this.fillStyle,this.context.fillRect(this.x,this.y,this.w,this.h)},i}(s);i.ctFillRect=c;var h=function(t){function i(i,n,e,r,o,s,a){var c=t.call(this,e,r,o,s,a)||this;return c.strokeStyle=i||"#f00",c.lineWidth=n||1,c}return r(i,t),i.prototype.draw=function(){this.superdraw(),this.context.strokeStyle=this.strokeStyle,this.context.lineWidth=this.lineWidth,this.context.strokeRect(this.x,this.y,this.w,this.h)},i}(s);i.ctStrokeRect=h;var u=function(t){function i(i,n,e,r,o,s,a,c,h){var u=t.call(this,r,o,s,a,c)||this;return u.text=i||"",u.font=n||"40px Arial",u.fillStyle=e||"#000",u}return r(i,t),i.prototype.draw=function(){this.superdraw(),this.context.fillStyle=this.fillStyle,this.context.font=this.font,this.context.fillText(this.text,this.x,this.y)},i}(s);i.ctFillText=u;var l=function(t){function i(i,n,e,r,o,s,a,c,h,u){var l=t.call(this,n,e,i.width,i.height,s)||this;return l.img=i,l.sx=a||0,l.sy=c||0,l.sw=h||i.width,l.sh=u||i.height,l}return r(i,t),i.prototype.draw=function(){this.superdraw(),this.context.drawImage(this.img,this.sx,this.sy,this.sw,this.sh,this.x,this.y,this.w,this.h)},i}(s);i.ctDrawImg=l;var f=function(t){function i(i,n,e,r,o,s,a){var c=t.call(this,1,1,1,1,a)||this;return c.strokeStyle=i,c.sx=n,c.sy=e,c.ex=r,c.ey=o,c.lineWidth=s||2,c}return r(i,t),i.prototype.draw=function(){this.superdraw(),this.context.beginPath(),this.context.strokeStyle=this.strokeStyle,this.context.lineWidth=this.lineWidth,this.context.moveTo(this.sx,this.sy),this.context.lineTo(this.ex,this.ey),this.context.stroke(),this.context.closePath()},i}(s);i.ctLine=f},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(){}return t.mainLoop=function(i){for(t.acc=t.acc+i-t.main_during;t.acc>=t.FRAME_TIME;){for(var n=0;n<t.main_arr.length;n++)t.main_arr[n].call(t.main_context_arr[n]);t.acc-=t.FRAME_TIME}t.main_during=i,t.main_is_running&&requestAnimationFrame(t.mainLoop)},t.mainLoopPolyFill=function(){for(var i=(new Date).getTime(),n=0;n<t.main_arr.length;n++)t.main_arr[n].call(t.main_context_arr[n],i-t.currenttime);t.currenttime=i,t.main_is_running&&setTimeout(t.mainLoopPolyFill,t.FRAME_TIME)},t.start=function(){t.currenttime=(new Date).getTime(),t.main_is_running=!0,requestAnimationFrame?t.mainLoop(t.FRAME_TIME):t.mainLoopPolyFill()},t.stop=function(){t.main_is_running=!1},t.reset=function(){t.stop(),t.main_arr=[],t.main_context_arr=[],t.main_is_running=!1,t.main_during=0,t.currenttime=(new Date).getTime(),t.acc=0},t.on=function(i,n){-1===t.main_arr.indexOf(i)&&(t.main_arr.push(i),t.main_context_arr.push(n))},t.off=function(i,n){var e=t.main_arr.indexOf(i);-1!==e&&(t.main_arr.splice(e,1),t.main_context_arr.splice(e,1))},t.FRAME_TIME=16,t.main_arr=[],t.main_context_arr=[],t.main_is_running=!1,t.main_during=0,t.currenttime=(new Date).getTime(),t.acc=0,t}();i.ctAnimation=e},function(t,i){var n=function(){function t(){}return t.path="./",t.type=".mp3",t.volume=.5,t.audios={},t.loadsound=function(i){if(window.Audio){var n=new Audio(t.path+i+t.type);return n.id="ps_"+i,n.volume=t.volume,t.audios[i]=n,n}return null},t.play=function(i){t.audios[i].play()},t.pause=function(i){t.audios[i].pause()},t.stop=function(i){t.audios[i].pause(),t.audios[i].currentTime=0},t.replay=function(i){t.audios[i].currentTime=0,t.audios[i].play()},t._replay=function(){this.currentTime=0,this.play()},t.onloop=function(i){t.audios[i].addEventListener("ended",t._replay,!1)},t.offloop=function(i){t.audios[i].removeEventListener("ended",t._replay)},t.loop=function(i,n){n--,t.audios[i].play(),t.audios[i].addEventListener("ended",function(){n>0&&(this.currentTime=0,this.play(),n--)},!1)},t}();i.ctPlaySound=n},function(t,i,n){ctPlaySound=n(2).ctPlaySound,ctAnimation=n(1).ctAnimation,canvasTrigger=n(0),ctCanvas=canvasTrigger.ctCanvas,ctObj=canvasTrigger.ctObj,cT_showPosition=canvasTrigger.cT_showPosition,cT_showPositions=canvasTrigger.cT_showPositions,ctFillRect=canvasTrigger.ctFillRect,ctStrokeRect=canvasTrigger.ctStrokeRect,ctFillText=canvasTrigger.ctFillText,ctDrawImg=canvasTrigger.ctDrawImg,ctLine=canvasTrigger.ctLine}]);